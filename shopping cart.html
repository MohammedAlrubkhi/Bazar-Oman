<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bazar Oman</title>
    <style>
        @import url('headerText.css');
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            
            background-color: #f8f8f8;
            color: #333; /* Default text color */
        }
        h1 {
            text-align: center;
            color: #4CAF50; /* Green */
            font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .subheading {
            text-align: center;
            margin: 10px 0;
            color:rgb(116, 116, 116); /* Slightly darker gray for subheading */
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        }

        h2{
            font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

        }

        h3{
            color: rgb(255,102,0); /* Orange */
            font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

        }

        .container {
            display: flex;
            justify-content: center;
            flex-direction: column;
            align-items: center;
            font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .cart {
            width: 100%;
            max-width: 1000px;
            background: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        .cart-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 10px 0;
            padding: 10x;
            border-bottom: 1px solid #ddd;
        }
        .cart-item img {
            width: 50px;
            height: 50px;
            margin-right: 10px;
        }
        .count {
            display: flex;
            align-items: center;
        }
        .count span {
            margin: 0 10px;
        }
        button {
            background-color: #4CAF50; /* Green */
            color: white;
            border: none;
            padding: 10px;
            cursor: pointer;
            border-radius: 5px;
            
        }
        button:hover {
            background-color: #45a049; /* Darker Green */
        }
        .delete-btn {
            background-color: transparent;
            color: #333;
            font-size: 20px;
            border: none;
            cursor: pointer;
        }
        .checkout-option {
            margin-top: 20px;
        }
        .checkout-option label {
            margin-right: 20px;
        }
        .checkout-btn {
            display: flex;
            justify-content: flex-end; /* Aligns the button to the right */
            margin-top: 20px;
        }
        .divider {
            border-top: 2px solid #ddd;
            margin: 20px 0;
        }
    </style>
</head>
<body>

<!--page header which include logo and all direct access pages in the site-->
<div class="container" style = "display: block;">
    <header class="d-flex flex-wrap  justify-content-center justify-content-md-between py-3 mb-4">
      <div class="col-md-3 mb-2 mb-md-0">
        <a href="index.html" class="d-inline-flex link-body-emphasis text-decoration-none">
          <img src = "logo.png" class="bi" height="32"/>
        </a>
      </div>

      <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
        <li><a href="index.html" class="nav-link px-2" id = "headerText" style = "color:black" >Home</a></li>
        <li><a href="markets.html" class="nav-link px-2"  id = "headerText" style = "color: black;">Markets</a></li>
        <li><a href="shopping cart.html" class="nav-link px-2" id = "headerText" style = "font-weight: bolder; color: black;">Shopping cart</a></li>
        <li><a href="account.html" class="nav-link px-2"id = "headerText" style = "color:black" >Account</a></li>
        <li><a href="be a partner.html" class="nav-link px-2" id = "headerText" style = "color: black;">Be a patner</a></li>
        <li><a href="contact us.html" class="nav-link px-2" id = "headerText" style = "color: black;">Contact us</a></li>
        <li><a href="about us.html" class="nav-link px-2" id = "headerText" style = "color: black;">About us</a></li>
        <li><a href="funpage.html" class="nav-link px-2" id = "headerText" style = "color: black;">Fun page</a></li>
            <li><a href="questioner page.html" class="nav-link px-2" id ="headerText" style = "color: black;">Questioner Page</a></li>
      </ul>
      
      <div class="col-md text-end">
        <a href="login.html"><button type="button" class="btn btn-outline-primary normal-button" style = "color: black;">Login</button></a>
        <a href="signup.html"><button type="button" class="btn btn-primary primary-button">Sign-up</button></a>
      </div>
    </header>
  </div>
  <!--end of header-->

<h1>Shopping Cart</h1>
<p class="subheading">You're just one step away from receiving your fresh groceries</p>

<div class="container">
    <div class="cart">
        
        <div id="cartContainer" class="cart-container">
            <h2>Your Shopping Cart:</h2>
            <br>
            <div id="cartItems" class="cart-items">
                <!-- Cart items will be dynamically added here -->
            </div>
        
            <button id="clearCart" onclick="clearCart()">Clear Cart</button>
        </div>

        <!-- Dividing Line -->
        <div class="divider"></div>

        <div style="font-weight: bold; font-size: 1.2em; margin-top: 20px;" id="cartTotal" class="cart-total">
            Total: $<span id="totalPrice">0.00</span>
        </div>

        <div class="checkout-option">
            <h3>Select Payment Method:</h3>
            <label>
                <input type="radio" name="payment" value="pay_on_delivery" checked> Pay on Delivery
            </label>
            <label>
                <input type="radio" name="payment" value="debit_credit_card"> Debit/Credit Card
            </label>
        </div>
        
        <div class="checkout-btn">
            <button onclick="window.location.href='checkout.html'">Checkout</button>
        </div>
    </div>
</div>

<!--footer-->
<br/>
<br/>
<br/>
<!-- Footer -->
<footer class="bg-dark text-white text-center text-lg-start" style="margin: 0; padding: 0; margin-top: 5rem;"> 
  <!-- Grid container -->
  <div class="container p-4">
      <div class="mb-3 mt-3 container-fluid row d-flex justify-content-center">
      
          <div class="col-8">
              <input type="text" class="form-control" id="searchingFooter" placeholder="Enter a page name you want to visit or a keyword from the paragraph">
          </div>
          <div class="col-4"> 
              <button onclick="footerTable()" class="btn btn-primary primary-button">Search</button>
          </div>
      </div><br/>

      <!--Table using JavaScript-->
    <div class="container text-center">
        <div class="d-flex justify-content-center">
            <table id="footerTable" style="border-spacing: 20px;"> 
                <!-- Table rows will be generated using JavaScript -->
            </table>
        </div>
    </div>

  </div>
  <!-- Copyright -->
  <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
      Â© 2024 Copyright:
      <a class="text-white">Bazar</a>
  </div>
  <!-- Copyright -->
</footer>
<!-- End of footer -->



<script>
    // Data arrays for the footer content
var logos = ["logo.png"];  // Logo for the footer
var title = "Quick Access"; 
var description = "Welcome to Bazar Oman, your trusted destination for fresh, high-quality groceries in Oman. We are committed to making your grocery shopping experience simpler, faster, and more convenient. Our mission is to bring the freshest vegetables and fruits directly from the best local markets to your doorstep, ensuring you enjoy 100% fresh and healthy produce every time.";
var links = [
    { text: "Home", href: "index.html" },
    { text: "Account", href: "account.html" },
    { text: "Be a partner", href: "be a partner.html" },
    { text: "Contact us", href: "contact us.html" },
    { text: "About us", href: "about us.html" },
    { text: "Questioner page", href: "questioner page.html" },
    { text: "Shopping cart", href: "shopping cart.html" }
];

// Get the table element by ID
var table = document.getElementById("footerTable");

// Create the first row with logo and title
var row1 = "<tr>";
row1 += `
    <th style="text-align: left;"><img src="${logos[0]}" width="8%" alt="Logo"></th>
    <th class="orange-color" style="text-align: left;"><h4><strong>${title}</strong></h4></th>
`;
row1 += "</tr>";

// Create the second row with description and links
var row2 = "<tr>";
row2 += `
    <td style="text-align: left;">${description}</td>
    <td style="text-align: left;">
        <ul class="list-unstyled mb-0" id="footerList">
`;

// Add the links dynamically to the list
for (var i = 0; i < links.length; i++) {
    row2 += `<li><a href="${links[i].href}" class="text-white" style="text-decoration-line: none;">${links[i].text}</a></li>`;
}

// Close the list and the row
row2 += "</ul></td></tr>";

// Combine both rows and insert into the table
table.innerHTML = row1 + row2;

table.style.marginLeft = "0"; 
    
function footerTable() {
  var td, tr, th, i, j, txt, table;
  var listItems, li, k, listText;

  // Get the search input value and convert to lowercase
  var input = document.getElementById("searchingFooter").value.toLowerCase();

  // Get the table and its rows
  table = document.getElementById("footerTable");
  tr = table.getElementsByTagName("tr");

  // Search in the table
  for (i = 0; i < tr.length; i++) {
      td = tr[i].getElementsByTagName("td");
      th = tr[i].getElementsByTagName("th");

      var rowMatch = false;

      // Check in the <th> elements 
      for (j = 0; j < th.length; j++) {
          txt = th[j].textContent || th[j].innerText; // Get the text content of the th

          if (txt.toLowerCase().indexOf(input) > -1) {
              th[j].style.backgroundColor = "#FFA500"; 
              th[j].style.color = "#efefef"; 
              th[j].scrollIntoView({ behavior: "smooth", block: "center" }); // Scroll to the matching header
          } else {
              th[j].style.backgroundColor = "";
              th[j].style.color = ""; 
          }
      }

      // Loop through all td elements in the row
      for (j = 0; j < td.length; j++) {
          txt = td[j].textContent || td[j].innerText; // Get the text content of the td

          if (txt.toLowerCase().indexOf(input) > -1) {
              rowMatch = true;
              td[j].style.backgroundColor = "#FFA500"; 
              td[j].style.color = "#efefef"; 
              td[j].scrollIntoView({ behavior: "smooth", block: "center" }); // Scroll to the matching cell

              
              tr[i].style.display = ""; // Ensure the row is shown
          } else {
              td[j].style.backgroundColor = ""; 
              td[j].style.color = ""; 
          }
      }
  }

  // Get all list items in the footer
  listItems = document.getElementById("footerList").getElementsByTagName("li");

  // Search in the list items
  for (k = 0; k < listItems.length; k++) {
      li = listItems[k];
      listText = li.textContent || li.innerText; // Get the text content of the list item

      // Check if the search input matches the list item text
      if (listText.toLowerCase().indexOf(input) > -1) {
          li.style.backgroundColor = "#E65C00"; 
          li.style.color = "#fefefe";
          li.scrollIntoView({ behavior: "smooth", block: "center" }); // Scroll to the matching item
      } else {
          li.style.backgroundColor = ""; 
          li.style.color = ""; 
      }
  }
}

</script>


<script>
    // Function to load and display items from the cart
  function loadCart() {
      // Get cart data from localStorage
      let cartData = JSON.parse(localStorage.getItem('cart')) || [];
  
      // Get the cart container and items display area
      let cartItemsContainer = document.getElementById('cartItems');
      let totalPriceElement = document.getElementById('totalPrice');
  
      // Clear the cart items container before adding updated items
      cartItemsContainer.innerHTML = '';
  
      // Total price variable
      let totalPrice = 0;
  
      // Loop through cart items and display them
      cartData.forEach(item => {
          item.itemTotal = item.price * item.quantity;
          let itemDiv = document.createElement('div');
          itemDiv.classList.add('cart-item');
          
          itemDiv.innerHTML = `
              <img src="${item.image}" alt="${item.name}" class="cart-item-image">  <!-- Display image -->
              <div class="item-name">${item.name}</div>
              <div class="item-price">$${item.price}</div>
              <div class="item-quantity">
                  <button onclick="updateQuantity('${item.name}', -1)">-</button>
                  <span>${item.quantity}</span>
                  <button onclick="updateQuantity('${item.name}', 1)">+</button>
              </div>
              <button onclick="removeItem('${item.name}')">&#x1F5D1;</button>
          `;
  
          cartItemsContainer.appendChild(itemDiv);
  
          // Add the price of this item to the total
          totalPrice += item.price * item.quantity;
          localStorage.setItem('cart', JSON.stringify(cartData));
      });
  
      // Update the total price display
      totalPriceElement.textContent = totalPrice.toFixed(2);

      
  }
  
  // Function to update the quantity of an item in the cart
  function updateQuantity(itemName, change) {
      // Get cart data from localStorage
      let cartData = JSON.parse(localStorage.getItem('cart')) || [];
  
      // Find the item in the cart and update its quantity
      let item = cartData.find(item => item.name === itemName);
      if (item) {
          item.quantity += change;
          if (item.quantity < 1) item.quantity = 1;  // Prevent quantity from going below 1
      }
  
      // Save the updated cart data back to localStorage
      localStorage.setItem('cart', JSON.stringify(cartData));
  
      // Reload the cart to reflect the changes
      loadCart();
  }
  
  // Function to remove an item from the cart
  function removeItem(itemName) {
      // Get cart data from localStorage
      let cartData = JSON.parse(localStorage.getItem('cart')) || [];
  
      // Filter out the item that needs to be removed
      cartData = cartData.filter(item => item.name !== itemName);
  
      // Save the updated cart data back to localStorage
      localStorage.setItem('cart', JSON.stringify(cartData));
  
      // Reload the cart to reflect the changes
      loadCart();
  }
  
  // Function to clear all items from the cart
  function clearCart() {
      // Clear the cart data from localStorage
      localStorage.removeItem('cart');
  
      // Reload the cart (which will now be empty)
      loadCart();
  }

  // Call this function when the page loads to display the cart
  window.onload = function() {
      loadCart();
  };
</script>

</body>
</html>
